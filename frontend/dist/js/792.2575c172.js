"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[792],{533:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var s=i(6190),a=i(9582),r=i(4886),n=i(266),o=i(9256),d=i(5151),l=i(4061),c=i(9223),u=i(5125),h=i(4324),m=i(9422),f=i(1713),v=i(3687),p=i(7808),b=i(920),g=i(6313),_=i(7953),x=function(){var t=this,e=t._self._c;return e(o.Z,{staticClass:"mt-16"},[e(b.Z,[e(m.Z,[e("section",{staticClass:"mt-16"},[e(a.Z,{staticClass:"mt-16"},[[e(d.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.Numeros,"sort-by":"text"},scopedSlots:t._u([{key:"top",fn:function(){return[e(g.Z,{attrs:{flat:""}},[e(_.qW,{staticClass:"font-weight-bold"},[t._v("TELEFONOS DE EMERGENCIA")]),e(c.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e(v.Z),e(l.Z,{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(s.Z,t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",a,!1),i),[t._v(" AGREGAR ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(a.Z,[e(r.EB,[e("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),e(u.Z,{ref:"form",staticClass:"ma-4",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(f.Z,{attrs:{dense:""}},[e(p.Z,{attrs:{label:"Dependencia",outlined:"",dense:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),e(f.Z,{attrs:{dense:""}},[e(n.Z,{attrs:{cols:"4"}},[e(p.Z,{directives:[{name:"mask",rawName:"v-mask",value:"####-##-##",expression:"'####-##-##'"}],attrs:{label:"Número",outlined:"",dense:""},model:{value:t.editedItem.mobile,callback:function(e){t.$set(t.editedItem,"mobile",e)},expression:"editedItem.mobile"}})],1)],1)],1),t._v(" "),e(r.h7,[e(v.Z),e(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),e(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[e(h.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")])]}},{key:"no-data",fn:function(){return[e(s.Z,{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}])})]],2)],1)])],1)],1)},Z=[],I=(i(7658),i(1694)),k={data:()=>({dialog:!1,valid:!0,headers:[{text:"Dependencia",align:"start",sortable:!1,value:"name"},{text:"Número",value:"mobile"},{text:"Acción",value:"actions",sortable:!1}],Numeros:[],editedIndex:-1,editedItem:{name:"",mobile:""},defaultItem:{name:"",mobile:""}}),computed:{formTitle(){return-1===this.editedIndex?"Nuevo Telefono de emergencia":"Editar Telefono de emergencia"}},watch:{dialog(t){t||this.close()}},created(){this.initialize()},methods:{async getData(){const t=await(0,I.Pb)("/landing/NumeroE");console.log(t),this.Numeros=t},async initialize(){await this.getData()},editItem(t){this.editedIndex=this.Numeros.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},save(){this.editedIndex>-1?Object.assign(this.Numeros[this.editedIndex],this.editedItem):this.Numeros.push(this.editedItem),this.close()}}},w=k,y=i(1001),E=(0,y.Z)(w,x,Z,!1,null,"58679cb1",null),C=E.exports},5125:function(t,e,i){i(7658);var s=i(7678),a=i(2500),r=i(4712);e["Z"]=(0,s.Z)(a.Z,(0,r.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))})):i.valid=e(t),i},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const i=this.watchers.find((t=>t._uid===e._uid));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})}}]);
//# sourceMappingURL=792.2575c172.js.map